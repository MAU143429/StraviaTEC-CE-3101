<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <!---Referencia al archivo css que contiene el estilo--->
    <link rel="stylesheet" href="challenges.component.css">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">

   </head>
   <body>
    <app-unavbar></app-unavbar>
    <div class="challengezone">
      <br>
      <br>
      <br>
      <br>
      <h3 class="maintitle">My Challenges</h3>
      <div class="section1">
        <div class="challenges">
          <div class="row">
            <h5 style="text-align: left;">Registered Challenges</h5>
            <table class="table table-bordered mt-4 mytable">
              <tr class="table-primary mytable">
                <th>Challenge Name</th>
                <th>Challenge Number</th>
                <th>Activities</th>
                <th>Activities Completed</th>
                <th>Avg Completed</th>
                <th>Final Date</th>
                <th>Details</th>
              </tr>
            <tr *ngFor="let data of mychallenges">
                <td>{{data.cname}}</td>
                <td>{{data.noChallenge}}</td>
                <td>{{data.activities}}</td>
                <td>{{data.completed}}</td>
                <td>{{data.avg}} %</td>
                <td>{{data.finalDate}}</td>
                <td><button (click)="open(content,data.noChallenge)">View Challenge!</button></td>
            </tr>
            </table>
          </div>
        </div>
      </div>
      <br>

      <h3 class="maintitle">Search Challenges</h3>

      <div class="races">
        <img style="margin-right:10px;" (click)="getAllChallenges()" type="button" src="https://cdn-icons-png.flaticon.com/512/4252/4252311.png" width="30    " alt="" >
        <input style="text-align:center ;" type="text" placeholder="Enter a challenge name!">
        <img style="margin-left:10px;" type="button" src="https://cdn-icons-png.flaticon.com/512/622/622669.png" width="30    " alt="" >
      </div>


      <div class="section2">
        <div class="challenges">
          <div class="row">
            <h5 style="text-align: left;">Results</h5>
            <table class="table table-bordered mt-4 mytable">
              <tr class="table-primary mytable">
                <th>Challenge Name</th>
                <th>Challenge Number</th>
                <th>Activities</th>
                <th>Final Date</th>
                <th>Details</th>
              </tr>
            <tr *ngFor="let data of challenges">
                <td>{{data.cname}}</td>
                <td>{{data.noChallenge}}</td>
                <td>{{data.activities}}</td>
                <td>{{data.finalDate}}</td>
                <td><button (click)="joinChallenge(data.noChallenge)" >Participate!</button></td>
            </tr>
            </table>
          </div>
        </div>
      </div>
      <br>
      <br>

    </div>


  </body>
  <ng-template #content let-modal>
    <div class="popup2">
      <h3 class="maintitle">Activities in Challenge</h3>
      <div class="section1">
        <div class="challenges">
          <div class="row">
            <table class="table table-bordered mt-4 mytable">
              <tr class="table-primary mytable">
                <th>Type Activity</th>
                <th>Distance</th>
                <th>Altitude</th>
              </tr>
            <tr *ngFor="let data of activities">
                <td>{{data.type}}</td>
                <td>{{data.distance}}</td>
                <td>{{data.altitude}}</td>
            </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </ng-template>



</html>
